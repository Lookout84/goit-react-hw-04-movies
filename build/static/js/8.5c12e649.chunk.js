(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[8],{103:function(e,t,n){"use strict";n.r(t);var a=n(31),r=n(60),c=n(61),i=n(69),o=n(63),s=n(62),u=n(0),l=n.n(u),d=n(64),h=n(55),v=n(99),f=n(97),j=n(104),b=n(1),m=n(2),p=n(5),O=n.n(p),g=(n(37),n(16)),x=n(6),y=n(30),k=n(28),w=n(9),N={variant:void 0,active:!1,disabled:!1},G=l.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.active,r=e.disabled,c=e.className,i=e.variant,o=e.action,s=e.as,d=e.eventKey,h=e.onClick,v=Object(m.a)(e,["bsPrefix","active","disabled","className","variant","action","as","eventKey","onClick"]);n=Object(x.a)(n,"list-group-item");var f=Object(u.useCallback)((function(e){if(r)return e.preventDefault(),void e.stopPropagation();h&&h(e)}),[r,h]);return r&&void 0===v.tabIndex&&(v.tabIndex=-1,v["aria-disabled"]=!0),l.a.createElement(k.a,Object(b.a)({ref:t},v,{eventKey:Object(w.b)(d,v.href),as:s||(o?v.href?"a":"button":"div"),onClick:f,className:O()(c,n,a&&"active",r&&"disabled",i&&n+"-"+i,o&&n+"-action")}))}));G.defaultProps=N,G.displayName="ListGroupItem";var _=G,B={variant:void 0,horizontal:void 0},C=l.a.forwardRef((function(e,t){var n,a=Object(g.a)(e,{activeKey:"onSelect"}),r=a.className,c=a.bsPrefix,i=a.variant,o=a.horizontal,s=a.as,u=void 0===s?"div":s,d=Object(m.a)(a,["className","bsPrefix","variant","horizontal","as"]),h=Object(x.a)(c,"list-group");return n=o?!0===o?"horizontal":"horizontal-"+o:null,l.a.createElement(y.a,Object(b.a)({ref:t},d,{as:u,className:O()(r,h,i&&h+"-"+i,n&&h+"-"+n)}))}));C.defaultProps=B,C.displayName="ListGroup",C.Item=_;var I=C,z=n(4),P=function(e){var t=e.movie,n=e.genres,a=e.url,r="";return t.release_date&&(r=t.release_date.split("-")[0]),Object(z.jsx)(h.a,{fluid:"md",children:Object(z.jsx)(v.a,{className:"justify-content-md-center",children:Object(z.jsx)(f.a,{md:"auto",children:Object(z.jsxs)(j.a,{style:{width:"40rem"},children:[Object(z.jsx)(j.a.Img,{variant:"top",src:t.poster_path?"".concat(a+t.poster_path):"".concat("https://i.ibb.co/TTCCj2F/img-error.png"),alt:t.title,width:"500"}),Object(z.jsxs)(j.a.Body,{children:[Object(z.jsxs)(j.a.Title,{children:[t.title," (",r,")"]}),Object(z.jsxs)(j.a.Text,{children:["Overview: ",t.overview||"This movie has no overview yet."]})]}),Object(z.jsxs)(I,{className:"list-group-flush",children:[Object(z.jsxs)(_,{children:["User score: ",10*t.vote_average,"%"]}),Object(z.jsxs)(_,{children:["Genres: ",n]})]})]},t.id)})})})},S=n(12),L=[{path:"/cast",url:"/cast",name:"Cast",exact:!0,component:Object(u.lazy)((function(){return n.e(1).then(n.bind(null,100))}))},{path:"/reviews",url:"/reviews",name:"Reviews",exact:!0,component:Object(u.lazy)((function(){return n.e(2).then(n.bind(null,101))}))}],T=n(3),K=Object(T.f)((function(e){var t=e.match;return Object(z.jsx)(u.Suspense,{fallback:"Waiting...",children:Object(z.jsx)(T.c,{children:L.map((function(e){var n=e.path,a=e.component,r=e.exact,c=e.url;return Object(z.jsx)(T.a,{path:"".concat(t.url).concat(c),exact:r,component:a},n)}))})})})),R=n(98),M=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var c;return Object(r.a)(this,n),(c=t.call(this,e)).state={movie:{},genres:"",cast:[],id:"",isLoading:!1,url:"https://image.tmdb.org/t/p/w500"},c.getMovie=function(){var e=c.props.match.params.movieId;return Object(d.a)(e).then((function(e){c.setState({movie:Object(a.a)({},e),id:c.props.match.params.movieId})})).catch((function(e){return c.setState({error:e})})).finally((function(){return c.setState({isLoading:!1})}))},c.getGenres=function(){var e=c.props.match.params.movieId;return Object(d.a)(e).then((function(e){return e.genres})).then((function(e){var t=e.map((function(e){return e.name=" "+e.name})).join(",  ");return c.setState({genres:[t]})})).catch((function(e){return c.setState({error:e})}))},c.handleGoBack=c.handleGoBack.bind(Object(i.a)(c)),c}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getMovie(),this.getGenres()}},{key:"handleGoBack",value:function(){this.props.history.goBack()}},{key:"render",value:function(){var e=this,t=this.props.match,n=this.state,a=n.movie,r=n.genres,c=n.url,i=n.id;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(R.a,{variant:"primary",type:"button",onClick:this.handleGoBack,className:"mb-1",children:"Go Back"}),Object(z.jsxs)(h.a,{children:[Object(z.jsx)(P,{movie:a,genres:r,url:c}),Object(z.jsx)(v.a,{className:"justify-content-md-center",children:Object(z.jsx)(f.a,{md:"auto",children:Object(z.jsxs)(j.a,{style:{width:"40rem"},children:[Object(z.jsx)(j.a.Body,{children:Object(z.jsx)(j.a.Title,{children:"Additional information"})}),Object(z.jsx)(j.a.Body,{children:L.map((function(n){var a=n.exact,r=n.name,c=n.url;return Object(z.jsx)(j.a.Link,{as:S.c,exact:a,to:{pathname:"".concat(t.url).concat(c),state:{from:e.props.location.state.from,id:i}},children:r},r)}))}),Object(z.jsx)(K,{})]})})})]})]})}}]),n}(u.Component);t.default=M},64:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l}));var a=n(66),r=n.n(a);r.a.defaults.baseURL="https://api.themoviedb.org/3/";var c="f4c67ae87f1aa2e929a998967bea3a43";function i(e){var t="trending/movie/day?&page=".concat(e,"&api_key=").concat(c);return r.a.get(t).then((function(e){return e.data})).then((function(e){return e.results})).catch((function(e){return console.log(e)}))}function o(e,t){var n="search/movie?&page=".concat(e,"&api_key=").concat(c,"&query=").concat(t);return r.a.get(n).then((function(e){return e.data})).then((function(e){return e.results})).catch((function(e){return console.log(e)}))}function s(e){var t="movie/".concat(e,"?api_key=").concat(c);return r.a.get(t).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}function u(e){var t="movie/".concat(e,"/credits?api_key=").concat(c);return r.a.get(t).then((function(e){return e.data})).then((function(e){return e.cast})).catch((function(e){return console.log(e)}))}function l(e){var t="movie/".concat(e,"/reviews?api_key=").concat(c);return r.a.get(t).then((function(e){return e.data})).then((function(e){return e.results})).catch((function(e){return console.log(e)}))}}}]);
//# sourceMappingURL=8.5c12e649.chunk.js.map