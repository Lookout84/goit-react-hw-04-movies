(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[8],{56:function(t,e,n){"use strict";n.r(e);var a=n(32),r=n(63),c=n(64),o=n(66),i=n(65),s=n(0),u=n.n(s),l=n(30),d=n(67),h=n(69),v=n(59),f=n(103),m=n(101),p=n(106),b=n(1),j=n(2),O=n(5),g=n.n(O),x=(n(38),n(16)),y=n(6),k=n(31),w=n(28),N=n(10),I={variant:void 0,active:!1,disabled:!1},P=u.a.forwardRef((function(t,e){var n=t.bsPrefix,a=t.active,r=t.disabled,c=t.className,o=t.variant,i=t.action,l=t.as,d=t.eventKey,h=t.onClick,v=Object(j.a)(t,["bsPrefix","active","disabled","className","variant","action","as","eventKey","onClick"]);n=Object(y.a)(n,"list-group-item");var f=Object(s.useCallback)((function(t){if(r)return t.preventDefault(),void t.stopPropagation();h&&h(t)}),[r,h]);return r&&void 0===v.tabIndex&&(v.tabIndex=-1,v["aria-disabled"]=!0),u.a.createElement(w.a,Object(b.a)({ref:e},v,{eventKey:Object(N.b)(d,v.href),as:l||(i?v.href?"a":"button":"div"),onClick:f,className:g()(c,n,a&&"active",r&&"disabled",o&&n+"-"+o,i&&n+"-action")}))}));P.defaultProps=I,P.displayName="ListGroupItem";var S=P,G={variant:void 0,horizontal:void 0},_=u.a.forwardRef((function(t,e){var n,a=Object(x.a)(t,{activeKey:"onSelect"}),r=a.className,c=a.bsPrefix,o=a.variant,i=a.horizontal,s=a.as,l=void 0===s?"div":s,d=Object(j.a)(a,["className","bsPrefix","variant","horizontal","as"]),h=Object(y.a)(c,"list-group");return n=i?!0===i?"horizontal":"horizontal-"+i:null,u.a.createElement(k.a,Object(b.a)({ref:e},d,{as:l,className:g()(r,h,o&&h+"-"+o,n&&h+"-"+n)}))}));_.defaultProps=G,_.displayName="ListGroup",_.Item=S;var z=_,C=n(4),B=function(t){var e=t.movie,n=t.genres,a=t.url;return Object(C.jsx)(v.a,{fluid:"md",children:Object(C.jsx)(f.a,{className:"justify-content-md-center",children:Object(C.jsx)(m.a,{md:"auto",children:Object(C.jsxs)(p.a,{style:{width:"40rem"},children:[Object(C.jsx)(p.a.Img,{variant:"top",src:e.poster_path?"".concat(a+e.poster_path):"".concat(h.a),alt:e.title,width:"500"}),Object(C.jsxs)(p.a.Body,{children:[Object(C.jsx)(p.a.Title,{children:e.title}),Object(C.jsxs)(p.a.Text,{children:["Overview: ",e.overview||"This movie has no overview yet."]})]}),Object(C.jsxs)(z,{className:"list-group-flush",children:[Object(C.jsxs)(S,{children:["User score: ",10*e.vote_average,"%"]}),Object(C.jsxs)(S,{children:["Genres: ",n]})]})]},e.id)})})})},L=n(11),K=[{path:"/cast",url:"/cast",name:"Cast",exact:!0,component:Object(s.lazy)((function(){return n.e(1).then(n.bind(null,104))}))},{path:"/reviews",url:"/reviews",name:"Reviews",exact:!0,component:Object(s.lazy)((function(){return n.e(2).then(n.bind(null,105))}))}];function R(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},c=Object.keys(t);for(a=0;a<c.length;a++)n=c[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(a=0;a<c.length;a++)n=c[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var T=n(3),E=Object(T.f)((function(t){var e=t.match,n=R(t,["match"]);return console.log(n),Object(C.jsx)(s.Suspense,{fallback:"Waiting...",children:Object(C.jsx)(T.c,{children:K.map((function(t){var n=t.path,a=t.component,r=t.exact,c=t.url;return Object(C.jsx)(T.a,{path:"".concat(e.url).concat(c),exact:r,component:a},n)}))})})})),M=n(102),A=function(t){Object(o.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(r.a)(this,n);for(var c=arguments.length,o=new Array(c),i=0;i<c;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).state={movie:{},genres:"",cast:[],id:"",isLoading:!1,url:"https://image.tmdb.org/t/p/w500"},t.getMovie=function(){var e=t.props.match.params.movieId;return Object(d.a)(e).then((function(e){console.log(t.props.match.params.movieId),t.setState({movie:Object(a.a)({},e),id:t.props.match.params.movieId})})).catch((function(e){return t.setState({error:e})})).finally((function(){return t.setState({isLoading:!1})}))},t.getGenres=function(){var e=t.props.match.params.movieId;return Object(d.a)(e).then((function(t){return t.genres})).then((function(e){var n=e.map((function(t){return t.name=" "+t.name})).join(",  ");return t.setState({genres:[n]})})).catch((function(e){return t.setState({error:e})}))},t.handleGoBack=function(){var e,n=t.props,a=n.location;n.history.push((null===a||void 0===a||null===(e=a.state)||void 0===e?void 0:e.from)||l.a.movies)},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getMovie(),this.getGenres()}},{key:"render",value:function(){var t=this,e=this.props.match;console.log(e),console.log(this.props.location.state.from);var n=this.state,a=n.movie,r=n.genres,c=n.url,o=n.id;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(M.a,{variant:"primary",type:"button",onClick:this.handleGoBack,className:"mb-1",children:"Go Back"}),Object(C.jsxs)(v.a,{children:[Object(C.jsx)(B,{movie:a,genres:r,url:c}),Object(C.jsx)(f.a,{className:"justify-content-md-center",children:Object(C.jsx)(m.a,{md:"auto",children:Object(C.jsxs)(p.a,{style:{width:"40rem"},children:[Object(C.jsx)(p.a.Body,{children:Object(C.jsx)(p.a.Title,{children:"Additional information"})}),Object(C.jsx)(p.a.Body,{children:K.map((function(n){var a=n.exact,r=n.name,c=n.url;return Object(C.jsx)(p.a.Link,{as:L.c,exact:a,to:{pathname:"".concat(e.url).concat(c),state:{from:t.props.location.state.from,id:o}},children:r},r)}))}),Object(C.jsx)(E,{})]})})})]})]})}}]),n}(s.Component);e.default=A},67:function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return u})),n.d(e,"d",(function(){return l}));var a=n(70),r=n.n(a);r.a.defaults.baseURL="https://api.themoviedb.org/3/";var c="f4c67ae87f1aa2e929a998967bea3a43";function o(t){var e="trending/movie/day?&page=".concat(t,"&api_key=").concat(c);return r.a.get(e).then((function(t){return t.data})).then((function(t){return t.results})).catch((function(t){return console.log(t)}))}function i(t,e){var n="search/movie?&page=".concat(t,"&api_key=").concat(c,"&query=").concat(e);return r.a.get(n).then((function(t){return t.data})).then((function(t){return t.results})).catch((function(t){return console.log(t)}))}function s(t){var e="movie/".concat(t,"?api_key=").concat(c);return r.a.get(e).then((function(t){return t.data})).catch((function(t){return console.log(t)}))}function u(t){var e="movie/".concat(t,"/credits?api_key=").concat(c);return r.a.get(e).then((function(t){return t.data})).then((function(t){return t.cast})).catch((function(t){return console.log(t)}))}function l(t){var e="movie/".concat(t,"/reviews?api_key=").concat(c);return r.a.get(e).then((function(t){return t.data})).then((function(t){return t.results})).catch((function(t){return console.log(t)}))}},69:function(t,e,n){"use strict";e.a=n.p+"static/media/img-error.5024d946.png"}}]);
//# sourceMappingURL=8.feeafb42.chunk.js.map