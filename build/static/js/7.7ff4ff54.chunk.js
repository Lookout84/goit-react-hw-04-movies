(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[7],{55:function(e,t,a){"use strict";a.r(t);var n=a(68),r=a(63),i=a(64),c=a(66),o=a(65),s=a(0),l=a.n(s),u=a(67),d=a(73),m=a(71),f=a(72),b=a(59),p=a(103),v=a(101),j=a(1),h=a(2),O=a(5),y=a.n(O),x=(a(37),a(14)),g=a.n(x),N={type:g.a.string,tooltip:g.a.bool,as:g.a.elementType},P=l.a.forwardRef((function(e,t){var a=e.as,n=void 0===a?"div":a,r=e.className,i=e.type,c=void 0===i?"valid":i,o=e.tooltip,s=void 0!==o&&o,u=Object(h.a)(e,["as","className","type","tooltip"]);return l.a.createElement(n,Object(j.a)({},u,{ref:t,className:y()(r,c+"-"+(s?"tooltip":"feedback"))}))}));P.displayName="Feedback",P.propTypes=N;var k=P,C=l.a.createContext({controlId:void 0}),I=a(6),w=l.a.forwardRef((function(e,t){var a=e.id,n=e.bsPrefix,r=e.bsCustomPrefix,i=e.className,c=e.type,o=void 0===c?"checkbox":c,u=e.isValid,d=void 0!==u&&u,m=e.isInvalid,f=void 0!==m&&m,b=e.isStatic,p=e.as,v=void 0===p?"input":p,O=Object(h.a)(e,["id","bsPrefix","bsCustomPrefix","className","type","isValid","isInvalid","isStatic","as"]),x=Object(s.useContext)(C),g=x.controlId,N=x.custom?[r,"custom-control-input"]:[n,"form-check-input"],P=N[0],k=N[1];return n=Object(I.a)(P,k),l.a.createElement(v,Object(j.a)({},O,{ref:t,type:o,id:a||g,className:y()(i,n,d&&"is-valid",f&&"is-invalid",b&&"position-static")}))}));w.displayName="FormCheckInput";var E=w,F=l.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.bsCustomPrefix,r=e.className,i=e.htmlFor,c=Object(h.a)(e,["bsPrefix","bsCustomPrefix","className","htmlFor"]),o=Object(s.useContext)(C),u=o.controlId,d=o.custom?[n,"custom-control-label"]:[a,"form-check-label"],m=d[0],f=d[1];return a=Object(I.a)(m,f),l.a.createElement("label",Object(j.a)({},c,{ref:t,htmlFor:i||u,className:y()(r,a)}))}));F.displayName="FormCheckLabel";var S=F,V=l.a.forwardRef((function(e,t){var a=e.id,n=e.bsPrefix,r=e.bsCustomPrefix,i=e.inline,c=void 0!==i&&i,o=e.disabled,u=void 0!==o&&o,d=e.isValid,m=void 0!==d&&d,f=e.isInvalid,b=void 0!==f&&f,p=e.feedbackTooltip,v=void 0!==p&&p,O=e.feedback,x=e.className,g=e.style,N=e.title,P=void 0===N?"":N,w=e.type,F=void 0===w?"checkbox":w,V=e.label,R=e.children,A=e.custom,T=e.as,L=void 0===T?"input":T,q=Object(h.a)(e,["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","title","type","label","children","custom","as"]),z="switch"===F||A,D=z?[r,"custom-control"]:[n,"form-check"],M=D[0],B=D[1];n=Object(I.a)(M,B);var _=Object(s.useContext)(C).controlId,G=Object(s.useMemo)((function(){return{controlId:a||_,custom:z}}),[_,z,a]),U=z||null!=V&&!1!==V&&!R,J=l.a.createElement(E,Object(j.a)({},q,{type:"switch"===F?"checkbox":F,ref:t,isValid:m,isInvalid:b,isStatic:!U,disabled:u,as:L}));return l.a.createElement(C.Provider,{value:G},l.a.createElement("div",{style:g,className:y()(x,n,z&&"custom-"+F,c&&n+"-inline")},R||l.a.createElement(l.a.Fragment,null,J,U&&l.a.createElement(S,{title:P},V),(m||b)&&l.a.createElement(k,{type:m?"valid":"invalid",tooltip:v},O))))}));V.displayName="FormCheck",V.Input=E,V.Label=S;var R=V,A=l.a.forwardRef((function(e,t){var a=e.id,n=e.bsPrefix,r=e.bsCustomPrefix,i=e.className,c=e.isValid,o=e.isInvalid,u=e.lang,d=e.as,m=void 0===d?"input":d,f=Object(h.a)(e,["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","lang","as"]),b=Object(s.useContext)(C),p=b.controlId,v=b.custom?[r,"custom-file-input"]:[n,"form-control-file"],O=v[0],x=v[1];return n=Object(I.a)(O,x),l.a.createElement(m,Object(j.a)({},f,{ref:t,id:a||p,type:"file",lang:u,className:y()(i,n,c&&"is-valid",o&&"is-invalid")}))}));A.displayName="FormFileInput";var T=A,L=l.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.bsCustomPrefix,r=e.className,i=e.htmlFor,c=Object(h.a)(e,["bsPrefix","bsCustomPrefix","className","htmlFor"]),o=Object(s.useContext)(C),u=o.controlId,d=o.custom?[n,"custom-file-label"]:[a,"form-file-label"],m=d[0],f=d[1];return a=Object(I.a)(m,f),l.a.createElement("label",Object(j.a)({},c,{ref:t,htmlFor:i||u,className:y()(r,a),"data-browse":c["data-browse"]}))}));L.displayName="FormFileLabel";var q=L,z=l.a.forwardRef((function(e,t){var a=e.id,n=e.bsPrefix,r=e.bsCustomPrefix,i=e.disabled,c=void 0!==i&&i,o=e.isValid,u=void 0!==o&&o,d=e.isInvalid,m=void 0!==d&&d,f=e.feedbackTooltip,b=void 0!==f&&f,p=e.feedback,v=e.className,O=e.style,x=e.label,g=e.children,N=e.custom,P=e.lang,w=e["data-browse"],E=e.as,F=void 0===E?"div":E,S=e.inputAs,V=void 0===S?"input":S,R=Object(h.a)(e,["id","bsPrefix","bsCustomPrefix","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","label","children","custom","lang","data-browse","as","inputAs"]),A=N?[r,"custom"]:[n,"form-file"],L=A[0],z=A[1];n=Object(I.a)(L,z);var D=Object(s.useContext)(C).controlId,M=Object(s.useMemo)((function(){return{controlId:a||D,custom:N}}),[D,N,a]),B=null!=x&&!1!==x&&!g,_=l.a.createElement(T,Object(j.a)({},R,{ref:t,isValid:u,isInvalid:m,disabled:c,as:V,lang:P}));return l.a.createElement(C.Provider,{value:M},l.a.createElement(F,{style:O,className:y()(v,n,N&&"custom-file")},g||l.a.createElement(l.a.Fragment,null,N?l.a.createElement(l.a.Fragment,null,_,B&&l.a.createElement(q,{"data-browse":w},x)):l.a.createElement(l.a.Fragment,null,B&&l.a.createElement(q,null,x),_),(u||m)&&l.a.createElement(k,{type:u?"valid":"invalid",tooltip:b},p))))}));z.displayName="FormFile",z.Input=T,z.Label=q;var D=z,M=(a(38),l.a.forwardRef((function(e,t){var a,n,r=e.bsPrefix,i=e.bsCustomPrefix,c=e.type,o=e.size,u=e.htmlSize,d=e.id,m=e.className,f=e.isValid,b=void 0!==f&&f,p=e.isInvalid,v=void 0!==p&&p,O=e.plaintext,x=e.readOnly,g=e.custom,N=e.as,P=void 0===N?"input":N,k=Object(h.a)(e,["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"]),w=Object(s.useContext)(C).controlId,E=g?[i,"custom"]:[r,"form-control"],F=E[0],S=E[1];if(r=Object(I.a)(F,S),O)(n={})[r+"-plaintext"]=!0,a=n;else if("file"===c){var V;(V={})[r+"-file"]=!0,a=V}else if("range"===c){var R;(R={})[r+"-range"]=!0,a=R}else if("select"===P&&g){var A;(A={})[r+"-select"]=!0,A[r+"-select-"+o]=o,a=A}else{var T;(T={})[r]=!0,T[r+"-"+o]=o,a=T}return l.a.createElement(P,Object(j.a)({},k,{type:c,size:u,ref:t,readOnly:x,id:d||w,className:y()(m,a,b&&"is-valid",v&&"is-invalid")}))})));M.displayName="FormControl";var B=Object.assign(M,{Feedback:k}),_=l.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.className,r=e.children,i=e.controlId,c=e.as,o=void 0===c?"div":c,u=Object(h.a)(e,["bsPrefix","className","children","controlId","as"]);a=Object(I.a)(a,"form-group");var d=Object(s.useMemo)((function(){return{controlId:i}}),[i]);return l.a.createElement(C.Provider,{value:d},l.a.createElement(o,Object(j.a)({},u,{ref:t,className:y()(n,a)}),r))}));_.displayName="FormGroup";var G=_,U=l.a.forwardRef((function(e,t){var a=e.as,n=void 0===a?"label":a,r=e.bsPrefix,i=e.column,c=e.srOnly,o=e.className,u=e.htmlFor,d=Object(h.a)(e,["as","bsPrefix","column","srOnly","className","htmlFor"]),m=Object(s.useContext)(C).controlId;r=Object(I.a)(r,"form-label");var f="col-form-label";"string"===typeof i&&(f=f+" "+f+"-"+i);var b=y()(o,r,c&&"sr-only",i&&f);return u=u||m,i?l.a.createElement(v.a,Object(j.a)({as:"label",className:b,htmlFor:u},d)):l.a.createElement(n,Object(j.a)({ref:t,className:b,htmlFor:u},d))}));U.displayName="FormLabel",U.defaultProps={column:!1,srOnly:!1};var J=U,$=l.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.className,r=e.as,i=void 0===r?"small":r,c=e.muted,o=Object(h.a)(e,["bsPrefix","className","as","muted"]);return a=Object(I.a)(a,"form-text"),l.a.createElement(i,Object(j.a)({},o,{ref:t,className:y()(n,a,c&&"text-muted")}))}));$.displayName="FormText";var H=$,K=l.a.forwardRef((function(e,t){return l.a.createElement(R,Object(j.a)({},e,{ref:t,type:"switch"}))}));K.displayName="Switch",K.Input=R.Input,K.Label=R.Label;var Q=K,W=a(25),X=Object(W.a)("form-row"),Y=l.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.inline,r=e.className,i=e.validated,c=e.as,o=void 0===c?"form":c,s=Object(h.a)(e,["bsPrefix","inline","className","validated","as"]);return a=Object(I.a)(a,"form"),l.a.createElement(o,Object(j.a)({},s,{ref:t,className:y()(r,i&&"was-validated",n&&a+"-inline")}))}));Y.displayName="Form",Y.defaultProps={inline:!1},Y.Row=X,Y.Group=G,Y.Control=B,Y.Check=R,Y.File=D,Y.Switch=Q,Y.Label=J,Y.Text=H;var Z=Y,ee=Object(W.a)("input-group-append"),te=Object(W.a)("input-group-prepend"),ae=Object(W.a)("input-group-text",{Component:"span"}),ne=l.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.size,r=e.hasValidation,i=e.className,c=e.as,o=void 0===c?"div":c,s=Object(h.a)(e,["bsPrefix","size","hasValidation","className","as"]);return a=Object(I.a)(a,"input-group"),l.a.createElement(o,Object(j.a)({ref:t},s,{className:y()(i,a,n&&a+"-"+n,r&&"has-validation")}))}));ne.displayName="InputGroup";var re=Object(j.a)({},ne,{Text:ae,Radio:function(e){return l.a.createElement(ae,null,l.a.createElement("input",Object(j.a)({type:"radio"},e)))},Checkbox:function(e){return l.a.createElement(ae,null,l.a.createElement("input",Object(j.a)({type:"checkbox"},e)))},Append:ee,Prepend:te}),ie=a(102),ce=a(4),oe=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(ce.jsx)(b.a,{fluid:"md",className:"mb-3",children:Object(ce.jsx)(p.a,{className:"justify-content-md-center",children:Object(ce.jsx)(v.a,{md:"auto",children:Object(ce.jsx)(Z,{onSubmit:this.props.onSubmit,children:Object(ce.jsxs)(re,{className:"mb-3",children:[Object(ce.jsx)(B,{placeholder:"Search Movie","aria-label":"Search Movie","aria-describedby":"basic-addon2",type:"text",name:"queryValue"}),Object(ce.jsx)(re.Append,{children:Object(ce.jsx)(ie.a,{variant:"outline-secondary",type:"submit",onSubmit:this.props.onSubmit,children:"Search"})})]})})})})})}}]),a}(s.Component),se=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var i=arguments.length,c=new Array(i),o=0;o<i;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={queryValue:"",movies:{},page:1,error:!1,isLoading:!1,url:"https://image.tmdb.org/t/p/w500"},e.getData=function(){var t=e.state.queryValue,a=e.state.page;return Object(u.c)(a,t).then((function(t){e.setState((function(e){return{movies:Object(n.a)(t)}}))})).catch((function(t){return e.setState({error:t})})).finally((function(){return e.setState({isLoading:!1})}))},e.nextPageButton=function(){e.getData(),e.setState((function(e){return{page:e.page+1}}))},e.prevPageButton=function(){e.getData(),e.setState((function(e){return{page:e.page-1}}))},e.validateInput=function(t){""!==t.trim()&&e.setState({queryValue:t})},e.onSubmit=function(t){t.preventDefault();var a=t.target.queryValue;e.validateInput(a.value),a.value=""},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.queryValue;t&&Object(u.c)(t).then((function(t){return e.setState({movies:t})}))}},{key:"componentDidUpdate",value:function(e,t){t.queryValue!==this.state.queryValue&&(this.getData(),this.setState((function(e){return{page:e.page+1}})))}},{key:"render",value:function(){var e=this.state,t=e.movies,a=e.url,n=e.page;return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(oe,{onSubmit:this.onSubmit}),Object(ce.jsx)(b.a,{children:t.length>0&&Object(ce.jsx)(d.a,{movies:t,url:a})}),Object(ce.jsx)(b.a,{fluid:"md",children:Object(ce.jsx)(p.a,{className:"justify-content-md-center",children:Object(ce.jsxs)(v.a,{md:"auto",children:[n>2&&Object(ce.jsx)(m.a,{onClick:this.prevPageButton}),t.length>0&&Object(ce.jsx)(f.a,{onClick:this.nextPageButton})]})})})]})}}]),a}(s.Component);t.default=se},67:function(e,t,a){"use strict";a.d(t,"e",(function(){return c})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return u}));var n=a(70),r=a.n(n);r.a.defaults.baseURL="https://api.themoviedb.org/3/";var i="f4c67ae87f1aa2e929a998967bea3a43";function c(e){var t="trending/movie/day?&page=".concat(e,"&api_key=").concat(i);return r.a.get(t).then((function(e){return e.data})).then((function(e){return e.results})).catch((function(e){return console.log(e)}))}function o(e,t){var a="search/movie?&page=".concat(e,"&api_key=").concat(i,"&query=").concat(t);return r.a.get(a).then((function(e){return e.data})).then((function(e){return e.results})).catch((function(e){return console.log(e)}))}function s(e){var t="movie/".concat(e,"?api_key=").concat(i);return r.a.get(t).then((function(e){return e.data})).catch((function(e){return console.log(e)}))}function l(e){var t="movie/".concat(e,"/credits?api_key=").concat(i);return r.a.get(t).then((function(e){return e.data})).then((function(e){return e.cast})).catch((function(e){return console.log(e)}))}function u(e){var t="movie/".concat(e,"/reviews?api_key=").concat(i);return r.a.get(t).then((function(e){return e.data})).then((function(e){return e.results})).catch((function(e){return console.log(e)}))}},68:function(e,t,a){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function r(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}a.d(t,"a",(function(){return r}))},69:function(e,t,a){"use strict";t.a=a.p+"static/media/img-error.5024d946.png"},71:function(e,t,a){"use strict";var n=a(63),r=a(64),i=a(66),c=a(65),o=a(0),s=a(102),l=a(4),u=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(l.jsx)(s.a,{className:"mr-2",variant:"primary",type:"button",onClick:this.props.onClick,children:"Prev page"})}}]),a}(o.Component);t.a=u},72:function(e,t,a){"use strict";var n=a(63),r=a(64),i=a(66),c=a(65),o=a(0),s=a(102),l=a(4),u=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(l.jsx)(s.a,{variant:"primary",type:"button",onClick:this.props.onClick,children:"Next page"})}}]),a}(o.Component);t.a=u},73:function(e,t,a){"use strict";a(0);var n=a(59),r=a(103),i=a(101),c=a(82),o=a(106),s=a(11),l=a(3),u=a(69),d=a(4);t.a=Object(l.f)((function(e){var t=e.movies,a=e.location,l=e.url;return Object(d.jsx)(n.a,{children:Object(d.jsx)(r.a,{className:"justify-content-md-center",children:t.map((function(e){var t=e.id,n=e.title,r=e.poster_path;return Object(d.jsx)(i.a,{xs:6,md:4,children:Object(d.jsx)(c.a,{className:"mr-2",children:Object(d.jsxs)(o.a,{style:{width:"18rem"},children:[Object(d.jsx)(o.a.Img,{variant:"top",src:"".concat(r?l+r:u.a),alt:n,width:"200",height:"auto"}),Object(d.jsx)(o.a.Body,{children:Object(d.jsx)(o.a.Title,{as:s.b,to:{pathname:"/movies/".concat(t),state:{from:a}},children:n})})]})})},t)}))})})})),o.a,o.a.Img,o.a.Body,o.a.Title},82:function(e,t,a){"use strict";var n=a(25);t.a=Object(n.a)("card-columns")}}]);
//# sourceMappingURL=7.7ff4ff54.chunk.js.map