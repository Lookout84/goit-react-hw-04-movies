(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[8],{56:function(t,e,n){"use strict";n.r(e);var a=n(32),r=n(63),c=n(64),i=n(66),o=n(65),s=n(0),u=n.n(s),l=n(30),d=n(67),h=n(59),v=n(102),f=n(100),m=n(105),j=n(1),b=n(2),p=n(5),O=n.n(p),g=(n(38),n(16)),x=n(6),y=n(31),k=n(28),w=n(10),N={variant:void 0,active:!1,disabled:!1},C=u.a.forwardRef((function(t,e){var n=t.bsPrefix,a=t.active,r=t.disabled,c=t.className,i=t.variant,o=t.action,l=t.as,d=t.eventKey,h=t.onClick,v=Object(b.a)(t,["bsPrefix","active","disabled","className","variant","action","as","eventKey","onClick"]);n=Object(x.a)(n,"list-group-item");var f=Object(s.useCallback)((function(t){if(r)return t.preventDefault(),void t.stopPropagation();h&&h(t)}),[r,h]);return r&&void 0===v.tabIndex&&(v.tabIndex=-1,v["aria-disabled"]=!0),u.a.createElement(k.a,Object(j.a)({ref:e},v,{eventKey:Object(w.b)(d,v.href),as:l||(o?v.href?"a":"button":"div"),onClick:f,className:O()(c,n,a&&"active",r&&"disabled",i&&n+"-"+i,o&&n+"-action")}))}));C.defaultProps=N,C.displayName="ListGroupItem";var G=C,I={variant:void 0,horizontal:void 0},_=u.a.forwardRef((function(t,e){var n,a=Object(g.a)(t,{activeKey:"onSelect"}),r=a.className,c=a.bsPrefix,i=a.variant,o=a.horizontal,s=a.as,l=void 0===s?"div":s,d=Object(b.a)(a,["className","bsPrefix","variant","horizontal","as"]),h=Object(x.a)(c,"list-group");return n=o?!0===o?"horizontal":"horizontal-"+o:null,u.a.createElement(y.a,Object(j.a)({ref:e},d,{as:l,className:O()(r,h,i&&h+"-"+i,n&&h+"-"+n)}))}));_.defaultProps=I,_.displayName="ListGroup",_.Item=G;var z=_,P=n(4),S=function(t){var e=t.movie,n=t.genres,a=t.url;return Object(P.jsx)(h.a,{fluid:"md",children:Object(P.jsx)(v.a,{className:"justify-content-md-center",children:Object(P.jsx)(f.a,{md:"auto",children:Object(P.jsxs)(m.a,{style:{width:"40rem"},children:[Object(P.jsx)(m.a.Img,{variant:"top",src:e.poster_path?"".concat(a+e.poster_path):"".concat("https://i.ibb.co/TTCCj2F/img-error.png"),alt:e.title,width:"500"}),Object(P.jsxs)(m.a.Body,{children:[Object(P.jsx)(m.a.Title,{children:e.title}),Object(P.jsxs)(m.a.Text,{children:["Overview: ",e.overview||"This movie has no overview yet."]})]}),Object(P.jsxs)(z,{className:"list-group-flush",children:[Object(P.jsxs)(G,{children:["User score: ",10*e.vote_average,"%"]}),Object(P.jsxs)(G,{children:["Genres: ",n]})]})]},e.id)})})})},B=n(11),L=[{path:"/cast",url:"/cast",name:"Cast",exact:!0,component:Object(s.lazy)((function(){return n.e(1).then(n.bind(null,103))}))},{path:"/reviews",url:"/reviews",name:"Reviews",exact:!0,component:Object(s.lazy)((function(){return n.e(2).then(n.bind(null,104))}))}],T=n(3),K=Object(T.f)((function(t){var e=t.match;return Object(P.jsx)(s.Suspense,{fallback:"Waiting...",children:Object(P.jsx)(T.c,{children:L.map((function(t){var n=t.path,a=t.component,r=t.exact,c=t.url;return Object(P.jsx)(T.a,{path:"".concat(e.url).concat(c),exact:r,component:a},n)}))})})})),R=n(101),M=function(t){Object(i.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(r.a)(this,n);for(var c=arguments.length,i=new Array(c),o=0;o<c;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={movie:{},genres:"",cast:[],id:"",isLoading:!1,url:"https://image.tmdb.org/t/p/w500"},t.getMovie=function(){var e=t.props.match.params.movieId;return Object(d.a)(e).then((function(e){t.setState({movie:Object(a.a)({},e),id:t.props.match.params.movieId})})).catch((function(e){return t.setState({error:e})})).finally((function(){return t.setState({isLoading:!1})}))},t.getGenres=function(){var e=t.props.match.params.movieId;return Object(d.a)(e).then((function(t){return t.genres})).then((function(e){var n=e.map((function(t){return t.name=" "+t.name})).join(",  ");return t.setState({genres:[n]})})).catch((function(e){return t.setState({error:e})}))},t.handleGoBack=function(){var e,n=t.props,a=n.location;n.history.push((null===a||void 0===a||null===(e=a.state)||void 0===e?void 0:e.from)||l.a.movies)},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getMovie(),this.getGenres()}},{key:"render",value:function(){var t=this,e=this.props.match,n=this.state,a=n.movie,r=n.genres,c=n.url,i=n.id;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(R.a,{variant:"primary",type:"button",onClick:this.handleGoBack,className:"mb-1",children:"Go Back"}),Object(P.jsxs)(h.a,{children:[Object(P.jsx)(S,{movie:a,genres:r,url:c}),Object(P.jsx)(v.a,{className:"justify-content-md-center",children:Object(P.jsx)(f.a,{md:"auto",children:Object(P.jsxs)(m.a,{style:{width:"40rem"},children:[Object(P.jsx)(m.a.Body,{children:Object(P.jsx)(m.a.Title,{children:"Additional information"})}),Object(P.jsx)(m.a.Body,{children:L.map((function(n){var a=n.exact,r=n.name,c=n.url;return Object(P.jsx)(m.a.Link,{as:B.c,exact:a,to:{pathname:"".concat(e.url).concat(c),state:{from:t.props.location.state.from,id:i}},children:r},r)}))}),Object(P.jsx)(K,{})]})})})]})]})}}]),n}(s.Component);e.default=M},67:function(t,e,n){"use strict";n.d(e,"e",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return u})),n.d(e,"d",(function(){return l}));var a=n(69),r=n.n(a);r.a.defaults.baseURL="https://api.themoviedb.org/3/";var c="f4c67ae87f1aa2e929a998967bea3a43";function i(t){var e="trending/movie/day?&page=".concat(t,"&api_key=").concat(c);return r.a.get(e).then((function(t){return t.data})).then((function(t){return t.results})).catch((function(t){return console.log(t)}))}function o(t,e){var n="search/movie?&page=".concat(t,"&api_key=").concat(c,"&query=").concat(e);return r.a.get(n).then((function(t){return t.data})).then((function(t){return t.results})).catch((function(t){return console.log(t)}))}function s(t){var e="movie/".concat(t,"?api_key=").concat(c);return r.a.get(e).then((function(t){return t.data})).catch((function(t){return console.log(t)}))}function u(t){var e="movie/".concat(t,"/credits?api_key=").concat(c);return r.a.get(e).then((function(t){return t.data})).then((function(t){return t.cast})).catch((function(t){return console.log(t)}))}function l(t){var e="movie/".concat(t,"/reviews?api_key=").concat(c);return r.a.get(e).then((function(t){return t.data})).then((function(t){return t.results})).catch((function(t){return console.log(t)}))}}}]);
//# sourceMappingURL=8.2d30581c.chunk.js.map